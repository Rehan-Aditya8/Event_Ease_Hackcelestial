<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Functions - EventEase</title>
    <link rel="stylesheet" href="../css/functions.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation Header -->
    <header class="app-header">
        <div class="brand">
            <svg width="32" height="32" viewBox="0 0 48 48" aria-hidden="true">
                <defs>
                    <linearGradient id="brandGradient" x1="0" y1="0" x2="1" y2="1">
                        <stop offset="0%" stop-color="#4A90E2"/>
                        <stop offset="100%" stop-color="#9B51E0"/>
                    </linearGradient>
                </defs>
                <path fill="url(#brandGradient)" d="M28 4c6 2 9 7 10 13l-7 7-5-5 2-7-7 2-5-5c6-3 9-4 12-5z"/>
                <circle cx="30" cy="14" r="3" fill="#fff" opacity=".9"/>
                <path d="M13 35c3-6 8-10 14-12l5 5c-2 6-6 11-12 14 1-3-2-6-7-7z" fill="#FF6B6B"/>
            </svg>
            <span>EventEase</span>
        </div>
        <div class="user-info">
            <div class="user-avatar">
                <span id="userInitials">U</span>
            </div>
            <span id="userName">User</span>
        </div>
        <div class="top-actions">
            <button id="themeToggle" class="btn ghost theme-toggle" title="Toggle theme">
                <svg class="theme-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3"/>
                    <line x1="12" y1="21" x2="12" y2="23"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                    <line x1="1" y1="12" x2="3" y2="12"/>
                    <line x1="21" y1="12" x2="23" y2="12"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                </svg>
                <svg class="theme-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
            <button id="logoutBtn" class="btn ghost logout-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16,17 21,12 16,7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                Logout
            </button>
        </div>
    </header>

    <!-- Sidebar Navigation -->
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <button data-view="dashboard" class="nav-btn active">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9,22 9,12 15,12 15,22"/>
                </svg>
                <span>Dashboard</span>
            </button>
            <button data-view="ticket" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                </svg>
                <span>EasyEntry</span>
            </button>
            <button data-view="announcements" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
                <span>Announcements</span>
            </button>
            <button data-view="lostfound" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21l-4.35-4.35"/>
                </svg>
                <span>Lost & Found</span>
            </button>
            <button data-view="emergency" class="nav-btn">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                    <line x1="12" y1="9" x2="12" y2="13"/>
                    <line x1="12" y1="17" x2="12.01" y2="17"/>
                </svg>
                <span>Medical</span>
            </button>
            <button data-view="parking" class="nav-btn" onclick="event.preventDefault();">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 3h8a5 5 0 0 1 0 10H4z"/>
        <line x1="4" y1="3" x2="4" y2="21"/>
    </svg>
    <span>Parking Management</span>
</button>

</button>
    </aside>

    <!-- Main Content -->
    <main id="app">
        <!-- Dashboard View -->
        <section id="dashboard" class="view">
            <div class="view-header">
                <h1 class="view-title">Welcome back, <span id="dashboardUserName">User</span>! </h1>
                <p class="view-subtitle">Manage your event experience with our comprehensive tools</p>
            </div>
            
            <div class="dashboard-grid">
                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>Entry Status</h3>
                            <p id="entryStatus">Not Generated</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h3>Announcements</h3>
                            <p id="announcementCount">0 New</p>
                        </div>
                    </div>
                </div>
                
                <div class="feature-cards">
                    <button class="feature-card" data-view="ticket">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>EasyEntry</h3>
                            <p>Generate your digital entry pass</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card" data-view="announcements">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Announcements</h3>
                            <p>Stay updated with event news</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card" data-view="lostfound">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="M21 21l-4.35-4.35"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Lost & Found</h3>
                            <p>Report or find lost items</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>

                    <button class="feature-card" data-view="parking">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="6" width="18" height="12" rx="2"/>
                                <path d="M7 11h2v2H7z"/>
                                <path d="M15 11h2v2h-2z"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Parking Management</h3>
                            <p>Locate parking spots and manage entry easily.</p>
                            <div class="parking-availability">
                                <div class="availability-item">
                                    <span class="vehicle-type">🏍️ Two Wheeler</span>
                                    <span class="slot-count" id="functionsPageTwoWheelerSlots">45/100</span>
                                </div>
                                <div class="availability-item">
                                    <span class="vehicle-type">🚗 Four Wheeler</span>
                                    <span class="slot-count" id="functionsPageFourWheelerSlots">23/50</span>
                                </div>
                            </div>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                    
                    <button class="feature-card emergency-card" data-view="emergency">
                        <div class="feature-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <div class="feature-content">
                            <h3>Medical Emergency</h3>
                            <p>Get immediate medical assistance</p>
                        </div>
                        <div class="feature-arrow">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,18 15,12 9,6"/>
                            </svg>
                        </div>
                    </button>
                </div>
            </div>
        </section>

        <!-- EasyEntry View -->
        <section id="ticket" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">EasyEntry System</h1>
                <p class="view-subtitle">Generate your digital entry pass for seamless event access</p>
            </div>
            
            <div id="event-code-form" class="content-card">
                <div class="card-header">
                    <h3>Enter Event Code</h3>
                    <p>Please enter the 6-digit event code provided by the organizers</p>
                </div>
                <form id="eventCodeForm" class="form-stack">
                    <div class="input-group">
                        <label for="eventCode">Event Code</label>
                        <input type="text" id="eventCode" placeholder="000000" maxlength="6" pattern="[0-9]{6}" required />
                        <span class="input-hint">Enter the 6-digit numeric code</span>
                    </div>
                    <button class="btn primary large" type="submit">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
                        </svg>
                        Generate Entry Pass
                    </button>
                </form>
            </div>
            
            <div id="qr-ticket" class="content-card ticket-card hidden">
                <div class="ticket-header">
                    <h3>HackCelestial 2.0 - Entry Pass</h3>
                    <div class="ticket-status">
                        <span class="status-badge active">Active</span>
                    </div>
                </div>
                <div class="ticket-content">
                    <div class="ticket-info">
                        <div class="info-item">
                            <label>Attendee</label>
                            <span id="ticketUser">User</span>
                        </div>
                        <div class="info-item">
                            <label>Event Code</label>
                            <span id="ticketCode">------</span>
                        </div>
                        <div class="info-item">
                            <label>Gate</label>
                            <span>Gate 3</span>
                        </div>
                        <div class="info-item">
                            <label>Valid Until</label>
                            <span>Event End</span>
                        </div>
                    </div>
                    <div class="qr-container">
                        <div class="qr-codes-wrapper">
                            <div class="custom-qr">
                                <p class="qr-label">Event QR Code</p>
                                <img src="../frame.png" alt="Custom QR Code" class="custom-qr-image" />
                            </div>
                        </div>
                        <p class="qr-instruction">Show this QR code at the entrance</p>
                    </div>
                </div>
            </div>
            
            <div id="volunteer-scanner" class="content-card scanner-card hidden">
                <div class="card-header">
                    <h3>QR Code Scanner</h3>
                    <p>Scan attendee QR codes for entry verification</p>
                </div>
                <div class="scanner-container">
                    <video id="scanner-preview" class="scanner-video"></video>
                    <div class="scanner-overlay">
                        <div class="scan-frame"></div>
                    </div>
                </div>
                <div id="scan-result" class="scan-result hidden">
                    <div class="result-content"></div>
                    <button id="reset-scanner" class="btn primary">Scan Another</button>
                </div>
            </div>
        </section>

        <!-- Announcements View -->
        <section id="announcements" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Announcements</h1>
                <p class="view-subtitle">Stay updated with the latest event information</p>
            </div>
            
            <div id="volunteer-announcement" class="content-card announcement-form hidden">
                <div class="card-header">
                    <h3>Create Announcement</h3>
                    <p>Share important information with all attendees</p>
                </div>
                <form id="announcementForm" class="form-stack">
                    <div class="input-group">
                        <label for="announcementTitle">Title</label>
                        <input type="text" id="announcementTitle" placeholder="Announcement title" required>
                    </div>
                    <div class="input-group">
                        <label for="announcementContent">Content</label>
                        <textarea id="announcementContent" placeholder="Write your announcement here..." rows="4" required></textarea>
                    </div>
                    <div class="input-group">
                        <label for="announcementPriority">Priority Level</label>
                        <select id="announcementPriority">
                            <option value="normal">Normal</option>
                            <option value="important">Important</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                    <button type="submit" class="btn primary large">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                            <path d="M2 17l10 5 10-5"/>
                        </svg>
                        Post Announcement
                    </button>
                </form>
            </div>
            
            <div class="content-card">
                <div class="announcement-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="normal">Normal</button>
                    <button class="filter-btn" data-filter="important">Important</button>
                    <button class="filter-btn" data-filter="urgent">Urgent</button>
                </div>
                <div id="announcements-list" class="announcements-container">
                    <ul id="announcement-items" class="announcements-list">
                        <li class="empty-state">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                                <path d="M2 17l10 5 10-5"/>
                            </svg>
                            <h4>No announcements yet</h4>
                            <p>Check back later for updates</p>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Lost & Found View -->
        <section id="lostfound" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Lost & Found Chat</h1>
                <p class="view-subtitle">Report lost items or help others find their belongings</p>
            </div>
            
            <div class="content-card chat-card">
                <div id="chatBox" class="chat-container"></div>
                <form id="chatForm" class="chat-form">
                    <div class="chat-inputs">
                        <input type="text" id="chatName" placeholder="Your name" required />
                        <input type="text" id="chatMessage" placeholder="Describe the lost/found item..." required />
                        <input type="file" id="chatImage" accept="image/*" class="file-input" />
                    </div>
                    <button type="submit" class="btn primary send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"/>
                            <polygon points="22,2 15,22 11,13 2,9 22,2"/>
                        </svg>
                        Send
                    </button>
                </form>
            </div>
        </section>

        <!-- Medical Emergency View -->
        <section id="emergency" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Medical Emergency</h1>
                <p class="view-subtitle">Get immediate medical assistance when you need it</p>
            </div>
            
            <div id="user-medical" class="content-card emergency-card">
                <div class="emergency-header">
                    <div class="emergency-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                            <line x1="12" y1="9" x2="12" y2="13"/>
                            <line x1="12" y1="17" x2="12.01" y2="17"/>
                        </svg>
                    </div>
                    <div class="emergency-text">
                        <h3>Emergency Assistance</h3>
                        <p>Press the button below if you need immediate medical help</p>
                    </div>
                </div>
                
                <button id="sos-button" class="sos-button">
                    <span class="sos-text">SOS</span>
                    <span class="sos-subtext">EMERGENCY HELP</span>
                </button>
                
                <div id="location-status" class="status-message hidden">
                    <div class="status-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                        </svg>
                    </div>
                    <span>Sending your location to medical team...</span>
                </div>
                
                <div id="location-report" class="location-report hidden">
                    <div class="report-header">
                        <div class="report-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                <circle cx="12" cy="10" r="3"/>
                            </svg>
                        </div>
                        <div class="report-info">
                            <h4>Emergency Location Report</h4>
                            <p class="report-status">✅ Successfully sent to medical team</p>
                        </div>
                    </div>
                    
                    <div class="location-details">
                        <div class="detail-item">
                            <label>Coordinates:</label>
                            <span id="coordinates-display">Getting location...</span>
                        </div>
                        <div class="detail-item">
                            <label>Address:</label>
                            <span id="address-display">Resolving address...</span>
                        </div>
                        <div class="detail-item">
                            <label>Accuracy:</label>
                            <span id="accuracy-display">Calculating...</span>
                        </div>
                        <div class="detail-item">
                            <label>Timestamp:</label>
                            <span id="timestamp-display"></span>
                        </div>
                    </div>
                </div>
                
                <div class="map-section">
                    <h4>Interactive Medical Facilities Map with Live Location</h4>
                    <div class="map-controls">
                        <button id="track-location-btn" class="btn primary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                            </svg>
                            Start Live Tracking
                        </button>
                        <button id="clear-trail-btn" class="btn ghost">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3,6 5,6 21,6"/>
                                <path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
                            </svg>
                            Clear Trail
                        </button>
                    </div>
                    <div class="status-indicator" id="location-status">
                        <div class="status-dot" id="status-dot"></div>
                        <span id="status-text">Location tracking off</span>
                    </div>
                    <div id="user-map" class="map-container enhanced-map"></div>
                </div>
            </div>
            
            <div id="volunteer-medical" class="content-card medical-dashboard hidden">
                <div class="card-header">
                    <h3>Medical Emergency Dashboard</h3>
                    <p>Monitor and respond to emergency requests in Navi Mumbai</p>
                </div>
                
                <div id="emergency-map" class="map-container large-map"></div>
                
                <div class="emergency-controls">
                    <div id="emergency-list" class="emergency-list">
                        <h4>Active Emergency Requests</h4>
                        <ul id="emergency-requests" class="requests-list"></ul>
                    </div>
                    
                    <div class="map-controls">
                        <button id="refresh-map" class="btn primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23,4 23,10 17,10"/>
                                <polyline points="1,20 1,14 7,14"/>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
                            </svg>
                            Refresh Map
                        </button>
                        <button id="center-map" class="btn ghost">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="3"/>
                                <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"/>
                            </svg>
                            Center on Navi Mumbai
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Parking Management View -->
        <section id="parking" class="view hidden">
            <div class="view-header">
                <button type="button" class="btn ghost back-btn" data-view="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15,18 9,12 15,6"/>
                    </svg>
                    Back to Dashboard
                </button>
                <h1 class="view-title">Parking Management</h1>
                <p class="view-subtitle">Find and book your parking spot easily</p>
            </div>
            
            <!-- Parking Slots Overview -->
            <div class="content-card parking-overview">
                <div class="card-header">
                    <h3>Available Parking Slots</h3>
                    <p>Real-time parking availability</p>
                </div>
                <div class="parking-stats">
                    <div class="stat-item two-wheeler">
                        <div class="stat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="6" cy="19" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <path d="M9 19h6"/>
                                <path d="M12 19V8"/>
                                <path d="M8 8h8"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4>Two Wheeler</h4>
                            <div class="slot-display">
                                <span class="available" id="parkingTwoWheelerAvailable">45</span>
                                <span class="separator">/</span>
                                <span class="total">100</span>
                            </div>
                            <p class="status available">Available</p>
                        </div>
                    </div>
                    
                    <div class="stat-item four-wheeler">
                        <div class="stat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="7" cy="17" r="2"/>
                                <circle cx="17" cy="17" r="2"/>
                                <path d="M5 17h-2v-6l2-5h9l4 5v6h-2"/>
                                <path d="M7 10h8"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4>Four Wheeler</h4>
                            <div class="slot-display">
                                <span class="available" id="parkingFourWheelerAvailable">23</span>
                                <span class="separator">/</span>
                                <span class="total">50</span>
                            </div>
                            <p class="status available">Available</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Booking Form -->
            <div class="content-card booking-form">
                <div class="card-header">
                    <h3>Book Your Parking Slot</h3>
                    <p>Select your vehicle type and duration</p>
                </div>
                
                <form id="parkingBookingForm" class="form-stack">
                    <div class="input-group">
                        <label>Vehicle Type</label>
                        <div class="vehicle-selection">
                            <label class="vehicle-option">
                                <input type="radio" name="vehicleType" value="twoWheeler" required>
                                <div class="option-content">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="6" cy="19" r="3"/>
                                        <circle cx="18" cy="19" r="3"/>
                                        <path d="M9 19h6"/>
                                        <path d="M12 19V8"/>
                                        <path d="M8 8h8"/>
                                    </svg>
                                    <span>Two Wheeler</span>
                                    <small>₹20/hour</small>
                                </div>
                            </label>
                            <label class="vehicle-option">
                                <input type="radio" name="vehicleType" value="fourWheeler" required>
                                <div class="option-content">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="7" cy="17" r="2"/>
                                        <circle cx="17" cy="17" r="2"/>
                                        <path d="M5 17h-2v-6l2-5h9l4 5v6h-2"/>
                                        <path d="M7 10h8"/>
                                    </svg>
                                    <span>Four Wheeler</span>
                                    <small>₹50/hour</small>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="vehicleNumber">Vehicle Number</label>
                        <input type="text" id="vehicleNumber" placeholder="e.g., MH 04 AB 1234" required>
                    </div>

                    <div class="input-group">
                        <label for="duration">Parking Duration</label>
                        <select id="duration" required>
                            <option value="">Select duration</option>
                            <option value="1">1 Hour</option>
                            <option value="2">2 Hours</option>
                            <option value="3">3 Hours</option>
                            <option value="4">4 Hours</option>
                            <option value="6">6 Hours</option>
                            <option value="8">8 Hours</option>
                            <option value="fullday">Full Day (20% discount)</option>
                        </select>
                    </div>

                    <div class="pricing-info">
                        <div class="price-breakdown">
                            <div class="price-item">
                                <span>Base Rate:</span>
                                <span id="baseRate">₹0</span>
                            </div>
                            <div class="price-item discount hidden">
                                <span>Discount:</span>
                                <span id="discount">₹0</span>
                            </div>
                            <div class="price-item total">
                                <span>Total Amount:</span>
                                <span id="totalAmount">₹0</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn primary full-width">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <circle cx="12" cy="12" r="9"/>
                        </svg>
                        Book Parking Slot
                    </button>
                </form>
            </div>

            <!-- Booking Confirmation -->
            <div id="bookingConfirmation" class="content-card booking-confirmation hidden">
                <div class="card-header success">
                    <div class="success-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <circle cx="12" cy="12" r="9"/>
                        </svg>
                    </div>
                    <h3>Booking Confirmed!</h3>
                    <p>Your parking slot has been reserved</p>
                </div>
                
                <div class="booking-details">
                    <div class="detail-item">
                        <label>Slot Number:</label>
                        <span id="confirmedSlotNumber" class="highlight">-</span>
                    </div>
                    <div class="detail-item">
                        <label>Vehicle Type:</label>
                        <span id="confirmedVehicleType">-</span>
                    </div>
                    <div class="detail-item">
                        <label>Vehicle Number:</label>
                        <span id="confirmedVehicleNumber">-</span>
                    </div>
                    <div class="detail-item">
                        <label>Duration:</label>
                        <span id="confirmedDuration">-</span>
                    </div>
                    <div class="detail-item">
                        <label>Amount Paid:</label>
                        <span id="confirmedAmount" class="highlight">-</span>
                    </div>
                    <div class="detail-item">
                        <label>Valid Until:</label>
                        <span id="confirmedValidUntil">-</span>
                    </div>
                </div>

                <div class="confirmation-actions">
                    <button id="newBookingBtn" class="btn primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="16"/>
                            <line x1="8" y1="12" x2="16" y2="12"/>
                        </svg>
                        Book Another Slot
                    </button>
                    <button data-view="dashboard" class="btn ghost">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        </svg>
                        Back to Dashboard
                    </button>
                </div>
            </div>
        </section>

        <!-- Volunteer Parking Management Section -->
        <section id="volunteer-parking" class="view hidden">
            <div class="view-header">
                <h2>Parking Management - Volunteer Dashboard</h2>
                <p>Monitor and manage parking slots and bookings</p>
            </div>

            <!-- Parking Overview for Volunteers -->
            <div class="content-card parking-overview-volunteer">
                <div class="card-header">
                    <h3>Parking Slots Overview</h3>
                    <p>Real-time parking availability and occupancy</p>
                </div>
                
                <div class="parking-stats-grid">
                    <div class="stat-item two-wheeler">
                        <div class="stat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="6" cy="19" r="3"/>
                                <circle cx="18" cy="19" r="3"/>
                                <path d="M9 19h6"/>
                                <path d="M12 19V8"/>
                                <path d="M8 8h8"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4>Two Wheeler Slots</h4>
                            <div class="slot-display">
                                <span class="occupied" id="volunteerTwoWheelerOccupied">55</span>
                                <span class="separator">/</span>
                                <span class="total">100</span>
                            </div>
                            <div class="availability-bar">
                                <div class="progress-bar">
                                    <div class="progress-fill two-wheeler-progress" id="volunteerTwoWheelerProgress"></div>
                                </div>
                                <p class="availability-text">
                                    <span id="volunteerTwoWheelerAvailable">45</span> slots available
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stat-item four-wheeler">
                        <div class="stat-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="7" cy="17" r="2"/>
                                <circle cx="17" cy="17" r="2"/>
                                <path d="M5 17h-2v-6l2-5h9l4 5v6h-2"/>
                                <path d="M7 10h8"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <h4>Four Wheeler Slots</h4>
                            <div class="slot-display">
                                <span class="occupied" id="volunteerFourWheelerOccupied">27</span>
                                <span class="separator">/</span>
                                <span class="total">50</span>
                            </div>
                            <div class="availability-bar">
                                <div class="progress-bar">
                                    <div class="progress-fill four-wheeler-progress" id="volunteerFourWheelerProgress"></div>
                                </div>
                                <p class="availability-text">
                                    <span id="volunteerFourWheelerAvailable">23</span> slots available
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slot Management Controls -->
            <div class="content-card slot-management">
                <div class="card-header">
                    <h3>Slot Management</h3>
                    <p>Manage individual parking slots and their status</p>
                    <div class="header-actions">
                        <button id="addSlotBtn" class="btn primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <line x1="12" y1="8" x2="12" y2="16"/>
                                <line x1="8" y1="12" x2="16" y2="12"/>
                            </svg>
                            Add Slot
                        </button>
                        <button id="bulkActionsBtn" class="btn secondary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4"/>
                                <path d="M15 11h4a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-4"/>
                                <path d="M12 2v20"/>
                            </svg>
                            Bulk Actions
                        </button>
                    </div>
                </div>
                
                <div class="slot-controls">
                    <div class="control-tabs">
                        <button class="control-tab active" data-section="grid">Slot Grid</button>
                        <button class="control-tab" data-section="list">Slot List</button>
                        <button class="control-tab" data-section="map">Layout Map</button>
                    </div>
                    
                    <!-- Slot Grid View -->
                    <div id="slot-grid-view" class="slot-view active">
                        <div class="slot-grid-container">
                            <div class="slot-section">
                                <h4>Two Wheeler Slots (Area A)</h4>
                                <div class="slots-grid two-wheeler-grid" id="twoWheelerSlots">
                                    <!-- Slots will be dynamically generated -->
                                </div>
                            </div>
                            <div class="slot-section">
                                <h4>Four Wheeler Slots (Area B)</h4>
                                <div class="slots-grid four-wheeler-grid" id="fourWheelerSlots">
                                    <!-- Slots will be dynamically generated -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Slot List View -->
                    <div id="slot-list-view" class="slot-view hidden">
                        <div class="slot-filters">
                            <select id="slotStatusFilter">
                                <option value="all">All Status</option>
                                <option value="available">Available</option>
                                <option value="occupied">Occupied</option>
                                <option value="reserved">Reserved</option>
                                <option value="maintenance">Maintenance</option>
                            </select>
                            <select id="slotTypeFilter">
                                <option value="all">All Types</option>
                                <option value="two-wheeler">Two Wheeler</option>
                                <option value="four-wheeler">Four Wheeler</option>
                            </select>
                            <input type="text" id="slotSearchInput" placeholder="Search by slot number or vehicle...">
                        </div>
                        <div class="slot-list" id="slotListContainer">
                            <!-- Slot list items will be generated here -->
                        </div>
                    </div>
                    
                    <!-- Layout Map View -->
                    <div id="slot-map-view" class="slot-view hidden">
                        <div class="parking-layout-map">
                            <div class="map-legend">
                                <div class="legend-item">
                                    <div class="legend-color available"></div>
                                    <span>Available</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color occupied"></div>
                                    <span>Occupied</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color reserved"></div>
                                    <span>Reserved</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color maintenance"></div>
                                    <span>Maintenance</span>
                                </div>
                            </div>
                            <div class="parking-map" id="parkingLayoutMap">
                                <!-- Interactive parking layout will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vehicle Search & Tracking -->
            <div class="content-card vehicle-search">
                <div class="card-header">
                    <h3>Vehicle Search & Tracking</h3>
                    <p>Find vehicles and track their parking history</p>
                </div>
                
                <div class="search-container">
                    <div class="search-input-group">
                        <input type="text" id="vehicleSearchInput" placeholder="Enter vehicle number (e.g., MH12AB1234)">
                        <button id="searchVehicleBtn" class="btn primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="m21 21-4.35-4.35"/>
                            </svg>
                            Search
                        </button>
                    </div>
                    
                    <div class="search-results" id="vehicleSearchResults">
                        <!-- Search results will appear here -->
                    </div>
                </div>
            </div>

            <!-- Parking Reports & Analytics -->
            <div class="content-card parking-reports">
                <div class="card-header">
                    <h3>Parking Reports & Analytics</h3>
                    <p>View parking statistics and generate reports</p>
                    <div class="header-actions">
                        <button id="exportReportBtn" class="btn secondary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            Export Report
                        </button>
                    </div>
                </div>
                
                <div class="reports-dashboard">
                    <div class="report-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                    <circle cx="8.5" cy="7" r="4"/>
                                    <path d="M20 8v6M23 11h-6"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h4>Today's Visitors</h4>
                                <div class="stat-value" id="todayVisitors">127</div>
                                <div class="stat-change positive">+12% from yesterday</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h4>Avg. Duration</h4>
                                <div class="stat-value" id="avgDuration">2h 45m</div>
                                <div class="stat-change negative">-8% from yesterday</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="12" y1="1" x2="12" y2="23"/>
                                    <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h4>Revenue Today</h4>
                                <div class="stat-value" id="todayRevenue">₹3,240</div>
                                <div class="stat-change positive">+15% from yesterday</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h4>Peak Hours</h4>
                                <div class="stat-value" id="peakHours">2-4 PM</div>
                                <div class="stat-change neutral">85% occupancy</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="report-charts">
                        <div class="chart-container">
                            <h4>Hourly Occupancy</h4>
                            <div class="chart-placeholder" id="occupancyChart">
                                <!-- Chart will be rendered here -->
                                <div class="chart-bars">
                                    <div class="chart-bar" style="height: 30%;" data-hour="9 AM" data-value="30%"></div>
                                    <div class="chart-bar" style="height: 45%;" data-hour="10 AM" data-value="45%"></div>
                                    <div class="chart-bar" style="height: 60%;" data-hour="11 AM" data-value="60%"></div>
                                    <div class="chart-bar" style="height: 85%;" data-hour="12 PM" data-value="85%"></div>
                                    <div class="chart-bar" style="height: 95%;" data-hour="1 PM" data-value="95%"></div>
                                    <div class="chart-bar" style="height: 90%;" data-hour="2 PM" data-value="90%"></div>
                                    <div class="chart-bar" style="height: 75%;" data-hour="3 PM" data-value="75%"></div>
                                    <div class="chart-bar" style="height: 55%;" data-hour="4 PM" data-value="55%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emergency & Violations -->
            <div class="content-card parking-emergency">
                <div class="card-header">
                    <h3>Emergency & Violations</h3>
                    <p>Handle parking emergencies, violations, and assistance requests</p>
                    <div class="header-actions">
                        <button id="emergencyAlertBtn" class="btn danger">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                            Emergency Alert
                        </button>
                    </div>
                </div>
                
                <div class="emergency-tabs">
                    <button class="emergency-tab active" data-tab="violations">Violations</button>
                    <button class="emergency-tab" data-tab="towing">Towing Requests</button>
                    <button class="emergency-tab" data-tab="assistance">Assistance</button>
                </div>
                
                <div class="emergency-content">
                    <!-- Violations Tab -->
                    <div id="violations-tab" class="emergency-tab-content active">
                        <div class="violation-actions">
                            <button id="reportViolationBtn" class="btn primary">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                    <polyline points="10,9 9,9 8,9"/>
                                </svg>
                                Report Violation
                            </button>
                        </div>
                        <div class="violations-list" id="violationsList">
                            <!-- Violation items will be listed here -->
                        </div>
                    </div>
                    
                    <!-- Towing Tab -->
                    <div id="towing-tab" class="emergency-tab-content hidden">
                        <div class="towing-actions">
                            <button id="requestTowingBtn" class="btn warning">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/>
                                    <path d="M15 18H9"/>
                                    <path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/>
                                    <circle cx="17" cy="18" r="2"/>
                                    <circle cx="7" cy="18" r="2"/>
                                </svg>
                                Request Towing
                            </button>
                        </div>
                        <div class="towing-requests" id="towingRequests">
                            <!-- Towing requests will be listed here -->
                        </div>
                    </div>
                    
                    <!-- Assistance Tab -->
                    <div id="assistance-tab" class="emergency-tab-content hidden">
                        <div class="assistance-actions">
                            <button id="callAssistanceBtn" class="btn info">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                </svg>
                                Call Assistance
                            </button>
                        </div>
                        <div class="assistance-requests" id="assistanceRequests">
                            <!-- Assistance requests will be listed here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Bookings Management -->
            <div class="content-card bookings-management">
                <div class="card-header">
                    <h3>Active Bookings</h3>
                    <p>Monitor current parking reservations</p>
                    <div class="header-actions">
                        <button id="refreshBookings" class="btn secondary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                                <path d="M21 3v5h-5"/>
                                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                                <path d="M3 21v-5h5"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                
                <div class="bookings-filter">
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">All Bookings</button>
                        <button class="filter-tab" data-filter="two-wheeler">Two Wheeler</button>
                        <button class="filter-tab" data-filter="four-wheeler">Four Wheeler</button>
                        <button class="filter-tab" data-filter="expiring">Expiring Soon</button>
                    </div>
                </div>

                <div class="bookings-list" id="activeBookingsList">
                    <!-- Sample booking entries -->
                    <div class="booking-item two-wheeler">
                        <div class="booking-info">
                            <div class="slot-badge two-wheeler">TW-42</div>
                            <div class="booking-details">
                                <h4>MH12AB1234</h4>
                                <p class="booking-time">Booked: Today 2:30 PM</p>
                                <p class="booking-duration">Duration: 3 hours</p>
                            </div>
                        </div>
                        <div class="booking-status">
                            <div class="status-indicator active"></div>
                            <span class="status-text">Active</span>
                            <div class="time-remaining">1h 45m left</div>
                        </div>
                        <div class="booking-actions">
                            <button class="btn-action extend" title="Extend Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                            </button>
                            <button class="btn-action cancel" title="Cancel Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="booking-item four-wheeler">
                        <div class="booking-info">
                            <div class="slot-badge four-wheeler">FW-15</div>
                            <div class="booking-details">
                                <h4>KA05MN9876</h4>
                                <p class="booking-time">Booked: Today 1:15 PM</p>
                                <p class="booking-duration">Duration: 2 hours</p>
                            </div>
                        </div>
                        <div class="booking-status">
                            <div class="status-indicator expiring"></div>
                            <span class="status-text">Expiring Soon</span>
                            <div class="time-remaining">15m left</div>
                        </div>
                        <div class="booking-actions">
                            <button class="btn-action extend" title="Extend Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                            </button>
                            <button class="btn-action cancel" title="Cancel Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="booking-item two-wheeler">
                        <div class="booking-info">
                            <div class="slot-badge two-wheeler">TW-73</div>
                            <div class="booking-details">
                                <h4>DL8CAB5432</h4>
                                <p class="booking-time">Booked: Today 3:00 PM</p>
                                <p class="booking-duration">Duration: 4 hours</p>
                            </div>
                        </div>
                        <div class="booking-status">
                            <div class="status-indicator active"></div>
                            <span class="status-text">Active</span>
                            <div class="time-remaining">3h 30m left</div>
                        </div>
                        <div class="booking-actions">
                            <button class="btn-action extend" title="Extend Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <polyline points="12,6 12,12 16,14"/>
                                </svg>
                            </button>
                            <button class="btn-action cancel" title="Cancel Booking">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="18" y1="6" x2="6" y2="18"/>
                                    <line x1="6" y1="6" x2="18" y2="18"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Parking Statistics -->
            <div class="content-card parking-statistics">
                <div class="card-header">
                    <h3>Today's Statistics</h3>
                    <p>Parking usage analytics for today</p>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon revenue">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"/>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Total Revenue</h4>
                            <p class="stat-value">₹2,340</p>
                            <span class="stat-change positive">+12% from yesterday</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon bookings">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Total Bookings</h4>
                            <p class="stat-value">47</p>
                            <span class="stat-change positive">+8 new bookings</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon occupancy">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 11H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h4"/>
                                <path d="M9 7h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H9"/>
                                <circle cx="9" cy="9" r="2"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Peak Occupancy</h4>
                            <p class="stat-value">89%</p>
                            <span class="stat-change neutral">at 2:30 PM</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon duration">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Avg. Duration</h4>
                            <p class="stat-value">2.5h</p>
                            <span class="stat-change neutral">per booking</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <button data-view="dashboard" class="nav-tab active">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            </svg>
            <span>Home</span>
        </button>
        <button data-view="ticket" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2 2 2 0 0 1 2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 1 2-2 2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2z"/>
            </svg>
            <span>Entry</span>
        </button>
        <button data-view="announcements" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5z"/>
            </svg>
            <span>News</span>
        </button>
        <button data-view="emergency" class="nav-tab">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            </svg>
            <span>SOS</span>
        </button>
    </nav>

    <!-- Logout Confirmation Modal -->
    <div id="logoutModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Logout</h3>
                <button class="modal-close" id="closeLogoutModal">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to logout? You'll need to sign in again to access your account.</p>
            </div>
            <div class="modal-footer">
                <button class="btn secondary" id="cancelLogout">Cancel</button>
                <button class="btn primary" id="confirmLogout">Logout</button>
            </div>
        </div>
    </div>


   

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="../js/maps.js"></script>
    <script src="../js/functions.js"></script>
</body>
</html>